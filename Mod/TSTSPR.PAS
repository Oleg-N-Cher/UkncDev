PROGRAM TSTSPR; (*$GPCP*)(*$T-*)

PROCEDURE InitGraph; EXTERNAL;
PROCEDURE CloseGraph; EXTERNAL;
PROCEDURE ClearDevice; EXTERNAL;
PROCEDURE Palette (n: INTEGER); EXTERNAL;
PROCEDURE SetPalette (c0, c1, c2, c3: INTEGER); EXTERNAL;
PROCEDURE PutPixel (x, y, color: INTEGER); EXTERNAL;
PROCEDURE PutSpr (x, y: INTEGER; PROCEDURE spr); EXTERNAL;

PROCEDURE Spr; BEGIN
/*$C
  .BYTE 1, 8
  .WORD ^O177777, ^O177777, ^O177777, ^O177777
  .WORD ^O177777, ^O177777, ^O177777, ^O177777
  .WORD ^O177777, ^O177777, ^O177777, ^O177777
  .WORD ^O177777, ^O177777, ^O177777, ^O177777
*/
END {Spr};

VAR i: INTEGER;
BEGIN
  InitGraph; ClearDevice;
  SetPalette(0, 13, 15, 11);
  FOR i := 0 TO 40 DO PutSpr(i, i, Spr);
  REPEAT UNTIL FALSE
END {TSTSPR}.
